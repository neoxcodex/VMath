#include <iostream>
#include <vector>

// Library Includes
#include "VMath/Math/Constants.h"
#include "VMath/Math/NDSFunctions.hpp"
#include "VMath/Math/VMath2D.hpp"
#include "VMath/Math/VMath3D.hpp"
#include "VMath/Math/VMath3D+.hpp"
#include "VMath/Math/VMathN.hpp"
#include "VMath/Profiler/profiler.hpp"

#define PROFILE_VMATH(id, name, call) \
    profiler::profileFunction("F" #id ": " name, [&]() { return call; })

int main() {
    // --- Data Setup ---
    float f1 = 1.0f, f2 = 2.0f, f3 = 0.5f;
    dim2::Vec2 a2{1, 2}, b2{3, 4};
    dim3::Vec3 a3{1, 2, 3}, b3{4, 5, 6}, axis{0, 1, 0};
    dim3::Mat3 m3 = dim3::Mat3::identity();
    dim4::Vec4 a4{1, 2, 3, 1}, b4{4, 5, 6, 1};
    dim4::Mat4 m4 = dim4::Mat4::identity();
    std::vector<double> n1(10, 1.0), n2(10, 2.0);

    // --- NDSF (Namespace) ---
    PROFILE_VMATH(1, "NDSF::clamp", NDSF::clamp(f1, 0.0f, 5.0f));
    PROFILE_VMATH(2, "NDSF::epEqual", NDSF::epEqual(f1, f2));
    PROFILE_VMATH(3, "NDSF::lerp", NDSF::lerp(f1, f2, f3));

    // --- dim2::Vec2 (Struct Members) ---
    PROFILE_VMATH(4, "dim2::Vec2::op+", a2 + b2);
    PROFILE_VMATH(5, "dim2::Vec2::op-", a2 - b2);
    PROFILE_VMATH(6, "dim2::Vec2::op*", a2 * f1);

    // --- dim2 (Namespace Functions) ---
    PROFILE_VMATH(7,  "dim2::dotProduct", dim2::dotProduct(a2, b2));
    PROFILE_VMATH(8,  "dim2::magSquared", dim2::magSquared(a2));
    PROFILE_VMATH(9,  "dim2::normalize", dim2::normalize(a2));
    PROFILE_VMATH(10, "dim2::distanceSquared", dim2::distanceSquared(a2, b2));
    PROFILE_VMATH(11, "dim2::angleRAD", dim2::angleRAD(a2, b2));
    PROFILE_VMATH(12, "dim2::angleDEG", dim2::angleDEG(a2, b2));
    PROFILE_VMATH(13, "dim2::lerp", dim2::lerp(a2, b2, f3));

    // --- dim3::Vec3 (Struct Members) ---
    PROFILE_VMATH(14, "dim3::Vec3::op+", a3 + b3);
    PROFILE_VMATH(15, "dim3::Vec3::op-", a3 - b3);
    PROFILE_VMATH(16, "dim3::Vec3::op*", a3 * f1);
    PROFILE_VMATH(17, "dim3::Vec3::op==", a3 == b3);

    // --- dim3::Mat3 (Struct Members) ---
    PROFILE_VMATH(18, "dim3::Mat3::identity", dim3::Mat3::identity());
    PROFILE_VMATH(19, "dim3::Mat3::genRotator", dim3::Mat3::genRotator(axis, f1));
    PROFILE_VMATH(20, "dim3::Mat3::genRotationX", dim3::Mat3::genRotationX(f1));
    PROFILE_VMATH(21, "dim3::Mat3::genRotationY", dim3::Mat3::genRotationY(f1));
    PROFILE_VMATH(22, "dim3::Mat3::genRotationZ", dim3::Mat3::genRotationZ(f1));
    PROFILE_VMATH(23, "dim3::Mat3::op*", m3 * a3);

    // --- dim3 (Namespace Functions) ---
    PROFILE_VMATH(24, "dim3::dotProduct", dim3::dotProduct(a3, b3));
    PROFILE_VMATH(25, "dim3::magSquared", dim3::magSquared(a3));
    PROFILE_VMATH(26, "dim3::normalize", dim3::normalize(a3));
    PROFILE_VMATH(27, "dim3::distanceSquared", dim3::distanceSquared(a3, b3));
    PROFILE_VMATH(28, "dim3::angleRAD", dim3::angleRAD(a3, b3));
    PROFILE_VMATH(29, "dim3::angleDEG", dim3::angleDEG(a3, b3));
    PROFILE_VMATH(30, "dim3::scalarProject", dim3::scalarProject(a3, b3));
    PROFILE_VMATH(31, "dim3::vectorProject", dim3::vectorProject(a3, b3));
    PROFILE_VMATH(32, "dim3::crossProduct", dim3::crossProduct(a3, b3));
    PROFILE_VMATH(33, "dim3::epVectorEqual", dim3::epVectorEqual(a3, b3));
    PROFILE_VMATH(34, "dim3::lerp", dim3::lerp(a3, b3, f3));
    PROFILE_VMATH(35, "dim3::matrixMultiply", dim3::matrixMultiply(m3, m3));
    PROFILE_VMATH(36, "dim3::rotationCustomAxis", dim3::rotationCustomAxis(a3, axis, f1));
    PROFILE_VMATH(37, "dim3::rotationXAxis", dim3::rotationXAxis(a3, f1));
    PROFILE_VMATH(38, "dim3::rotationYAxis", dim3::rotationYAxis(a3, f1));
    PROFILE_VMATH(39, "dim3::rotationZAxis", dim3::rotationZAxis(a3, f1));

    // --- dim4::Vec4 (Struct Members) ---
    PROFILE_VMATH(40, "dim4::Vec4::op==", a4 == b4);
    PROFILE_VMATH(41, "dim4::Vec4::op+", a4 + b4);
    PROFILE_VMATH(42, "dim4::Vec4::op-", a4 - b4);
    PROFILE_VMATH(43, "dim4::Vec4::op*", a4 * f1);

    // --- dim4::Mat4 (Struct Members) ---
    PROFILE_VMATH(44, "dim4::Mat4::identity", dim4::Mat4::identity());
    PROFILE_VMATH(45, "dim4::Mat4::genRotator", dim4::Mat4::genRotator(a3, f1));
    PROFILE_VMATH(46, "dim4::Mat4::genRotationX", dim4::Mat4::genRotationX(f1));
    PROFILE_VMATH(47, "dim4::Mat4::genRotationY", dim4::Mat4::genRotationY(f1));
    PROFILE_VMATH(48, "dim4::Mat4::genRotationZ", dim4::Mat4::genRotationZ(f1));
    PROFILE_VMATH(49, "dim4::Mat4::genTranslation", dim4::Mat4::genTranslation(f1, f2, f3));
    PROFILE_VMATH(50, "dim4::Mat4::genScaling", dim4::Mat4::genScaling(f1, f2, f3));
    PROFILE_VMATH(51, "dim4::Mat4::homoToVec3", dim4::Mat4::homoToVec3(a4));
    PROFILE_VMATH(52, "dim4::Mat4::Vec3toHomo", dim4::Mat4::Vec3toHomo(a3));
    PROFILE_VMATH(53, "dim4::Mat4::genIntrinsic", dim4::Mat4::genIntrinsic(a2, f1, f2));
    PROFILE_VMATH(54, "dim4::Mat4::genExtrinsic", dim4::Mat4::genExtrinsic(a3, b3));
    PROFILE_VMATH(55, "dim4::Mat4::op*", m4 * a4);

    // --- dim4 (Namespace Functions) ---
    PROFILE_VMATH(56, "dim4::dotProduct", dim4::dotProduct(a4, b4));
    PROFILE_VMATH(57, "dim4::magSquared", dim4::magSquared(a4));
    PROFILE_VMATH(58, "dim4::magnitude", dim4::magnitude(a4));
    PROFILE_VMATH(59, "dim4::epVectorEqual", dim4::epVectorEqual(a4, b4));
    PROFILE_VMATH(60, "dim4::normalize", dim4::normalize(a4));
    PROFILE_VMATH(61, "dim4::lerp", dim4::lerp(a4, b4, f3));
    PROFILE_VMATH(62, "dim4::angleRAD", dim4::angleRAD(a4, b4));
    PROFILE_VMATH(63, "dim4::angleDEG", dim4::angleDEG(a4, b4));
    PROFILE_VMATH(64, "dim4::toVec4", dim4::toVec4(a3, true));
    PROFILE_VMATH(65, "dim4::calcFocalLength", dim4::calcFocalLength(a2, 1920, 1080));
    PROFILE_VMATH(66, "dim4::calcOffsets", dim4::calcOffsets(1920.0f, 1080.0f));
    PROFILE_VMATH(67, "dim4::cameraSpaceVecToImgSpace", dim4::cameraSpaceVecToImgSpace(a4, a2));
    PROFILE_VMATH(68, "dim4::worldSpaceToCameraSpace", dim4::worldSpaceToCameraSpace(a3, a3, b3));
    PROFILE_VMATH(69, "dim4::worldToScreen", dim4::worldToScreen(a3, a3, b3, a2));
    PROFILE_VMATH(70, "dim4::matrixMultiply", dim4::matrixMultiply(m4, m4));

    // --- dimN (Namespace Functions) ---
    PROFILE_VMATH(71, "dimN::magnitude", dimN::magnitude(n1));
    PROFILE_VMATH(72, "dimN::normalize", dimN::normalize(n1));
    PROFILE_VMATH(73, "dimN::scalarMult", dimN::scalarMult(n1, 2.0));
    PROFILE_VMATH(74, "dimN::addVectors", dimN::addVectors(n1, n2));
    PROFILE_VMATH(75, "dimN::subtractVectors", dimN::subtractVectors(n1, n2));
    PROFILE_VMATH(76, "dimN::distance", dimN::distance(n1, n2));
    PROFILE_VMATH(77, "dimN::dotProduct", dimN::dotProduct(n1, n2));
    PROFILE_VMATH(78, "dimN::angleRAD", dimN::angleRAD(n1, n2));
    PROFILE_VMATH(79, "dimN::angleDEG", dimN::angleDEG(n1, n2));
    
    return 0;
}